- pipeline: CI Integration Tests
  refs:
    - refs/heads/*
  events:
    - type: PUSH
  auto_clear_cache: true
  fail_on_prepare_env_warning: true
  actions:
    - action: Build and Test
      type: BUILD
      docker_image_name: library/node
      docker_image_tag: 22
      execute_commands:
        - pnpm install --frozen-lockfile
        - pnpm run build
        - pnpm test
      setup_commands:
        - npm i pnpm -g
      shell: BASH
